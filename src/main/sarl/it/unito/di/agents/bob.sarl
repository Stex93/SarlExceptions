package it.unito.di.agents

import io.sarl.core.DefaultContextInteractions
import io.sarl.core.Initialize
import io.sarl.core.Schedules
import it.unito.di.spaces.ExceptionSpace
import it.unito.di.spaces.ExceptionSpaceSpecification
import it.unito.di.spaces.MyException
import java.util.UUID
import io.sarl.core.Logging

agent Bob {

	uses DefaultContextInteractions,Schedules,Logging

	var comspace : ExceptionSpace
	var n = new NullPointerException
	on Initialize {

		comspace = defaultContext.getOrCreateSpaceWithSpec(typeof(ExceptionSpaceSpecification),
			occurrence.parameters.get(0) as UUID)

		comspace.printMessage("Hello from BOB")
		every(5000)[
			comspace.throwException(getID,new MyException(n))
		]
	}

}
